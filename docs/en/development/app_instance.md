### app_instance # Приложение

Приложением в phpDaemon является наследник класса AppInstance, для того чтобы создать новое приложение, необходимо создать файл applications/[имя].php и объявить в нем class Example extends AppInstance. Затем, ядро будет вызывать методы в ответ на которые приложение должно выполнять необходимые операции:

 - init() - инициализации приложения. Приложению необходимо сохранить необходимые зависимости и подготовиться к запуску.
 - onReady() - означает что рабочий процесс, в котором запущено приложение, готов к обработке.
 - onShutdown() - завершение приложения.
 - beginRequest(Request $req, AppInstance $upstream) - запрашивается объект нового запроса к приложению. Метод может вернуть false, это значит что приложение отказывается (или не умеет) обрабатывать запросы. После вызова этого метода, объект запроса попадает в очередь и вызывается итеративно.

Класс декларируется как class ExampleRequest extends Request.
Методы:

 - init() - вызывается единожды при создании объекта запроса.
 - run() - вызывается диспетчером очереди до тер пор, пока не будет возращен код 1 или не будет вызван метод terminate().
 - terminate() - его не следует перезагружать. Метод прерывает и завершает выполнение запроса.
 - sleep($seconds) - время в секундах, через которое необходимо вернуться к запросу.
 - wakeup() - прервать sleep.
 - onAbort() - событие сброса запроса, вызывается в случае если клиент отвалился.
 - header($header) - установить заголовок HTTP-ответа.
 - out($str) - записать строку в поток вывода.
 - combinedOut($str) - записать строку в поток вывода, содержащую и заголовки и тело.
 - stdin($str) - обработчик потока ввода запроса.
 - finish($status) - 0 - normal, -1 - abort, -2 - termination
 - chunked() - устанавливает Transfer-Encoding: chunked.